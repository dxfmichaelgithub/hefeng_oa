{"version":3,"sources":["webpack:///./src/views/own-space/OwnSpace.vue?1da2","webpack:///src/views/own-space/OwnSpace.vue","webpack:///./src/views/own-space/OwnSpace.vue?d899","webpack:///./src/views/own-space/OwnSpace.vue","webpack:///./src/views/own-space/OwnSpace.vue?3127"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","slot","type","_v","ref","model","userForm","label-width","label-position","rules","inforValidate","label","prop","staticStyle","display","width","value","callback","$$v","$set","expression","on","on-keydown","hasChangePhone","position","disabled","canGetIdentifyCode","click","getIdentifyCode","_s","gettingIdentifyCodeBtnContent","staticClass","background-color","z-index","margin","placeholder","securityCode","margin-top","text-align","cancelInputCodeBox","loading","checkIdentifyCodeLoading","submitCode","_e","company","department","size","showEditPassword","cancelEditUserInfor","save_loading","saveEdit","closable","mask-closable","editPasswordModal","color","editPasswordForm","passwordValidate","error","oldPassError","cancelEditPass","savePassLoading","saveEditPass","staticRenderFns","OwnSpacevue_type_script_lang_js","name","data","_this","validePhone","rule","re","test","Error","valideRePassword","newPass","cellphone","uid","phoneHasChanged","identifyError","identifyCodeRight","hasGetIdentifyCode","required","message","trigger","validator","oldPass","rePass","min","max","inputCodeVisible","initPhone","methods","_this2","$refs","validate","valid","timeLast","timer","setInterval","clearInterval","$store","commit","localStorage","pageOpenedList","JSON","stringify","state","app","lastPageName","length","$router","push","_this3","saveInfoAjax","$Message","warning","_this4","init","_this5","vm","setTimeout","success","_this6","mounted","own_space_OwnSpacevue_type_script_lang_js","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OwnSpace_vue_vue_type_style_index_0_lang_less__WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/2.8398f286.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Card',[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('Icon',{attrs:{\"type\":\"person\"}}),_vm._v(\"\\n      个人信息\\n    \")],1),_c('div',[_c('Form',{ref:\"userForm\",attrs:{\"model\":_vm.userForm,\"label-width\":100,\"label-position\":\"right\",\"rules\":_vm.inforValidate}},[_c('FormItem',{attrs:{\"label\":\"用户姓名：\",\"prop\":\"name\"}},[_c('div',{staticStyle:{\"display\":\"inline-block\",\"width\":\"300px\"}},[_c('Input',{model:{value:(_vm.userForm.name),callback:function ($$v) {_vm.$set(_vm.userForm, \"name\", $$v)},expression:\"userForm.name\"}})],1)]),_c('FormItem',{attrs:{\"label\":\"用户手机：\",\"prop\":\"cellphone\"}},[_c('div',{staticStyle:{\"display\":\"inline-block\",\"width\":\"204px\"}},[_c('Input',{on:{\"on-keydown\":_vm.hasChangePhone},model:{value:(_vm.userForm.cellphone),callback:function ($$v) {_vm.$set(_vm.userForm, \"cellphone\", $$v)},expression:\"userForm.cellphone\"}})],1),_c('div',{staticStyle:{\"display\":\"inline-block\",\"position\":\"relative\"}},[_c('Button',{attrs:{\"disabled\":_vm.canGetIdentifyCode},on:{\"click\":_vm.getIdentifyCode}},[_vm._v(_vm._s(_vm.gettingIdentifyCodeBtnContent))]),(_vm.inputCodeVisible)?_c('div',{staticClass:\"own-space-input-identifycode-con\"},[_c('div',{staticStyle:{\"background-color\":\"white\",\"z-index\":\"110\",\"margin\":\"10px\"}},[_c('Input',{attrs:{\"placeholder\":\"请填写短信验证码\"},model:{value:(_vm.securityCode),callback:function ($$v) {_vm.securityCode=$$v},expression:\"securityCode\"}}),_c('div',{staticStyle:{\"margin-top\":\"10px\",\"text-align\":\"right\"}},[_c('Button',{attrs:{\"type\":\"ghost\"},on:{\"click\":_vm.cancelInputCodeBox}},[_vm._v(\"取消\")]),_c('Button',{attrs:{\"type\":\"primary\",\"loading\":_vm.checkIdentifyCodeLoading},on:{\"click\":_vm.submitCode}},[_vm._v(\"确定\")])],1)],1)]):_vm._e()],1)]),_c('FormItem',{attrs:{\"label\":\"公司：\"}},[_c('span',[_vm._v(_vm._s(_vm.userForm.company))])]),_c('FormItem',{attrs:{\"label\":\"部门：\"}},[_c('span',[_vm._v(_vm._s(_vm.userForm.department))])]),_c('FormItem',{attrs:{\"label\":\"登录密码：\"}},[_c('Button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":_vm.showEditPassword}},[_vm._v(\"修改密码\")])],1),_c('div',[_c('Button',{staticStyle:{\"width\":\"100px\"},attrs:{\"type\":\"text\"},on:{\"click\":_vm.cancelEditUserInfor}},[_vm._v(\"取消\")]),_c('Button',{staticStyle:{\"width\":\"100px\"},attrs:{\"type\":\"primary\",\"loading\":_vm.save_loading},on:{\"click\":_vm.saveEdit}},[_vm._v(\"保存\")])],1)],1)],1)]),_c('Modal',{attrs:{\"closable\":false,\"mask-closable\":false,\"width\":500},model:{value:(_vm.editPasswordModal),callback:function ($$v) {_vm.editPasswordModal=$$v},expression:\"editPasswordModal\"}},[_c('h3',{staticStyle:{\"color\":\"#2D8CF0\"},attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"修改密码\")]),_c('Form',{ref:\"editPasswordForm\",attrs:{\"model\":_vm.editPasswordForm,\"label-width\":100,\"label-position\":\"right\",\"rules\":_vm.passwordValidate}},[_c('FormItem',{attrs:{\"label\":\"原密码\",\"prop\":\"oldPass\",\"error\":_vm.oldPassError}},[_c('Input',{attrs:{\"placeholder\":\"请输入现在使用的密码\"},model:{value:(_vm.editPasswordForm.oldPass),callback:function ($$v) {_vm.$set(_vm.editPasswordForm, \"oldPass\", $$v)},expression:\"editPasswordForm.oldPass\"}})],1),_c('FormItem',{attrs:{\"label\":\"新密码\",\"prop\":\"newPass\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入新密码，至少6位字符\"},model:{value:(_vm.editPasswordForm.newPass),callback:function ($$v) {_vm.$set(_vm.editPasswordForm, \"newPass\", $$v)},expression:\"editPasswordForm.newPass\"}})],1),_c('FormItem',{attrs:{\"label\":\"确认新密码\",\"prop\":\"rePass\"}},[_c('Input',{attrs:{\"placeholder\":\"请再次输入新密码\"},model:{value:(_vm.editPasswordForm.rePass),callback:function ($$v) {_vm.$set(_vm.editPasswordForm, \"rePass\", $$v)},expression:\"editPasswordForm.rePass\"}})],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.cancelEditPass}},[_vm._v(\"取消\")]),_c('Button',{attrs:{\"type\":\"primary\",\"loading\":_vm.savePassLoading},on:{\"click\":_vm.saveEditPass}},[_vm._v(\"保存\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<style lang=\"less\">\r\n@import \"./ownspace.less\";\r\n</style>\r\n\r\n<template>\r\n  <div>\r\n    <Card>\r\n      <p slot=\"title\">\r\n        <Icon type=\"person\"></Icon>\r\n        个人信息\r\n      </p>\r\n      <div>\r\n        <Form ref=\"userForm\" :model=\"userForm\" :label-width=\"100\" label-position=\"right\" :rules=\"inforValidate\">\r\n          <FormItem label=\"用户姓名：\" prop=\"name\">\r\n            <div style=\"display:inline-block;width:300px;\">\r\n              <Input v-model=\"userForm.name\"></Input>\r\n            </div>\r\n          </FormItem>\r\n          <FormItem label=\"用户手机：\" prop=\"cellphone\">\r\n            <div style=\"display:inline-block;width:204px;\">\r\n              <Input v-model=\"userForm.cellphone\" @on-keydown=\"hasChangePhone\"></Input>\r\n            </div>\r\n            <div style=\"display:inline-block;position:relative;\">\r\n              <Button @click=\"getIdentifyCode\" :disabled=\"canGetIdentifyCode\">{{ gettingIdentifyCodeBtnContent }}</Button>\r\n              <div class=\"own-space-input-identifycode-con\" v-if=\"inputCodeVisible\">\r\n                <div style=\"background-color:white;z-index:110;margin:10px;\">\r\n                  <Input v-model=\"securityCode\" placeholder=\"请填写短信验证码\"></Input>\r\n                  <div style=\"margin-top:10px;text-align:right\">\r\n                    <Button type=\"ghost\" @click=\"cancelInputCodeBox\">取消</Button>\r\n                    <Button type=\"primary\" @click=\"submitCode\" :loading=\"checkIdentifyCodeLoading\">确定</Button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </FormItem>\r\n          <FormItem label=\"公司：\">\r\n            <span>{{ userForm.company }}</span>\r\n          </FormItem>\r\n          <FormItem label=\"部门：\">\r\n            <span>{{ userForm.department }}</span>\r\n          </FormItem>\r\n          <FormItem label=\"登录密码：\">\r\n            <Button type=\"text\" size=\"small\" @click=\"showEditPassword\">修改密码</Button>\r\n          </FormItem>\r\n          <div>\r\n            <Button type=\"text\" style=\"width: 100px;\" @click=\"cancelEditUserInfor\">取消</Button>\r\n            <Button type=\"primary\" style=\"width: 100px;\" :loading=\"save_loading\" @click=\"saveEdit\">保存</Button>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    </Card>\r\n    <Modal v-model=\"editPasswordModal\" :closable='false' :mask-closable=false :width=\"500\">\r\n      <h3 slot=\"header\" style=\"color:#2D8CF0\">修改密码</h3>\r\n      <Form ref=\"editPasswordForm\" :model=\"editPasswordForm\" :label-width=\"100\" label-position=\"right\" :rules=\"passwordValidate\">\r\n        <FormItem label=\"原密码\" prop=\"oldPass\" :error=\"oldPassError\">\r\n          <Input v-model=\"editPasswordForm.oldPass\" placeholder=\"请输入现在使用的密码\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"新密码\" prop=\"newPass\">\r\n          <Input v-model=\"editPasswordForm.newPass\" placeholder=\"请输入新密码，至少6位字符\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"确认新密码\" prop=\"rePass\">\r\n          <Input v-model=\"editPasswordForm.rePass\" placeholder=\"请再次输入新密码\"></Input>\r\n        </FormItem>\r\n      </Form>\r\n      <div slot=\"footer\">\r\n        <Button type=\"text\" @click=\"cancelEditPass\">取消</Button>\r\n        <Button type=\"primary\" :loading=\"savePassLoading\" @click=\"saveEditPass\">保存</Button>\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ownspace_index\",\r\n  data() {\r\n    const validePhone = (rule, value, callback) => {\r\n      var re = /^1[0-9]{10}$/;\r\n      if (!re.test(value)) {\r\n        callback(new Error(\"请输入正确格式的手机号\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    const valideRePassword = (rule, value, callback) => {\r\n      if (value !== this.editPasswordForm.newPass) {\r\n        callback(new Error(\"两次输入密码不一致\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      userForm: {\r\n        name: \"\",\r\n        cellphone: \"\",\r\n        company: \"\",\r\n        department: \"\"\r\n      },\r\n      uid: \"\", // 登录用户的userId\r\n      securityCode: \"\", // 验证码\r\n      phoneHasChanged: false, // 是否编辑了手机\r\n      save_loading: false,\r\n      identifyError: \"\", // 验证码错误\r\n      editPasswordModal: false, // 修改密码模态框显示\r\n      savePassLoading: false,\r\n      oldPassError: \"\",\r\n      identifyCodeRight: false, // 验证码是否正确\r\n      hasGetIdentifyCode: false, // 是否点了获取验证码\r\n      canGetIdentifyCode: false, // 是否可点获取验证码\r\n      checkIdentifyCodeLoading: false,\r\n      inforValidate: {\r\n        name: [{ required: true, message: \"请输入姓名\", trigger: \"blur\" }],\r\n        cellphone: [\r\n          { required: true, message: \"请输入手机号码\" },\r\n          { validator: validePhone }\r\n        ]\r\n      },\r\n      editPasswordForm: {\r\n        oldPass: \"\",\r\n        newPass: \"\",\r\n        rePass: \"\"\r\n      },\r\n      passwordValidate: {\r\n        oldPass: [{ required: true, message: \"请输入原密码\", trigger: \"blur\" }],\r\n        newPass: [\r\n          { required: true, message: \"请输入新密码\", trigger: \"blur\" },\r\n          { min: 6, message: \"请至少输入6个字符\", trigger: \"blur\" },\r\n          { max: 32, message: \"最多输入32个字符\", trigger: \"blur\" }\r\n        ],\r\n        rePass: [\r\n          { required: true, message: \"请再次输入新密码\", trigger: \"blur\" },\r\n          { validator: valideRePassword, trigger: \"blur\" }\r\n        ]\r\n      },\r\n      inputCodeVisible: false, // 显示填写验证码box\r\n      initPhone: \"\",\r\n      gettingIdentifyCodeBtnContent: \"获取验证码\" // “获取验证码”按钮的文字\r\n    };\r\n  },\r\n  methods: {\r\n    getIdentifyCode() {\r\n      this.hasGetIdentifyCode = true;\r\n      this.$refs[\"userForm\"].validate(valid => {\r\n        if (valid) {\r\n          this.canGetIdentifyCode = true;\r\n          let timeLast = 60;\r\n          let timer = setInterval(() => {\r\n            if (timeLast >= 0) {\r\n              this.gettingIdentifyCodeBtnContent = timeLast + \"秒后重试\";\r\n              timeLast -= 1;\r\n            } else {\r\n              clearInterval(timer);\r\n              this.gettingIdentifyCodeBtnContent = \"获取验证码\";\r\n              this.canGetIdentifyCode = false;\r\n            }\r\n          }, 1000);\r\n          this.inputCodeVisible = true;\r\n          // you can write ajax request here\r\n        }\r\n      });\r\n    },\r\n    showEditPassword() {\r\n      this.editPasswordModal = true;\r\n    },\r\n    cancelEditUserInfor() {\r\n      this.$store.commit(\"removeTag\", \"ownspace_index\");\r\n      localStorage.pageOpenedList = JSON.stringify(\r\n        this.$store.state.app.pageOpenedList\r\n      );\r\n      let lastPageName = \"\";\r\n      if (this.$store.state.app.pageOpenedList.length > 1) {\r\n        lastPageName = this.$store.state.app.pageOpenedList[1].name;\r\n      } else {\r\n        lastPageName = this.$store.state.app.pageOpenedList[0].name;\r\n      }\r\n      this.$router.push({\r\n        name: lastPageName\r\n      });\r\n    },\r\n    saveEdit() {\r\n      this.$refs[\"userForm\"].validate(valid => {\r\n        if (valid) {\r\n          if (\r\n            this.phoneHasChanged &&\r\n            this.userForm.cellphone !== this.initPhone\r\n          ) {\r\n            // 手机号码修改过了而且修改之后的手机号和原来的不一样\r\n            if (this.hasGetIdentifyCode) {\r\n              // 判断是否点了获取验证码\r\n              if (this.identifyCodeRight) {\r\n                // 判断验证码是否正确\r\n                this.saveInfoAjax();\r\n              } else {\r\n                this.$Message.error(\"验证码错误，请重新输入\");\r\n              }\r\n            } else {\r\n              this.$Message.warning(\"请先点击获取验证码\");\r\n            }\r\n          } else {\r\n            this.saveInfoAjax();\r\n          }\r\n        }\r\n      });\r\n    },\r\n    cancelEditPass() {\r\n      this.editPasswordModal = false;\r\n    },\r\n    saveEditPass() {\r\n      this.$refs[\"editPasswordForm\"].validate(valid => {\r\n        if (valid) {\r\n          this.savePassLoading = true;\r\n          // you can write ajax request here\r\n        }\r\n      });\r\n    },\r\n    init() {\r\n      this.userForm.name = \"Lison\";\r\n      this.userForm.cellphone = \"17712345678\";\r\n      this.initPhone = \"17712345678\";\r\n      this.userForm.company = \"TalkingData\";\r\n      this.userForm.department = \"可视化部门\";\r\n    },\r\n    cancelInputCodeBox() {\r\n      this.inputCodeVisible = false;\r\n      this.userForm.cellphone = this.initPhone;\r\n    },\r\n    submitCode() {\r\n      let vm = this;\r\n      vm.checkIdentifyCodeLoading = true;\r\n      if (this.securityCode.length === 0) {\r\n        this.$Message.error(\"请填写短信验证码\");\r\n      } else {\r\n        setTimeout(() => {\r\n          this.$Message.success(\"验证码正确\");\r\n          this.inputCodeVisible = false;\r\n          this.checkIdentifyCodeLoading = false;\r\n        }, 1000);\r\n      }\r\n    },\r\n    hasChangePhone() {\r\n      this.phoneHasChanged = true;\r\n      this.hasGetIdentifyCode = false;\r\n      this.identifyCodeRight = false;\r\n    },\r\n    saveInfoAjax() {\r\n      this.save_loading = true;\r\n      setTimeout(() => {\r\n        this.$Message.success(\"保存成功\");\r\n        this.save_loading = false;\r\n      }, 1000);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OwnSpace.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OwnSpace.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./OwnSpace.vue?vue&type=template&id=b7ae3f70\"\nimport script from \"./OwnSpace.vue?vue&type=script&lang=js\"\nexport * from \"./OwnSpace.vue?vue&type=script&lang=js\"\nimport style0 from \"./OwnSpace.vue?vue&type=style&index=0&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OwnSpace.vue?vue&type=style&index=0&lang=less\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OwnSpace.vue?vue&type=style&index=0&lang=less\""],"sourceRoot":""}